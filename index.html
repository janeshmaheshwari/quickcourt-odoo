<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickCourt - Smart Sports Facility Booking</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="showSection('landing')">
                <i class="fas fa-basketball-ball"></i> QuickCourt
            </a>
            
            <div class="navbar-nav ms-auto" id="navbarMenu">
                <div class="nav-item dropdown" id="userMenuDropdown" style="display: none;">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user"></i> <span id="userNameDisplay">User</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#" onclick="showDashboard()">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a></li>
                    </ul>
                </div>
                <a class="nav-link" href="#" id="loginBtn" onclick="showSection('auth')">
                    <i class="fas fa-sign-in-alt"></i> Login
                </a>
            </div>
        </div>
    </nav>

    <!-- Landing Page -->
    <section id="landing" class="section-container">
        <div class="hero-section">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <h1 class="display-4 fw-bold mb-4">Book Sports Facilities with AI-Powered Smart Algorithms</h1>
                        <p class="lead mb-4">Experience the future of sports facility booking with advanced search algorithms, intelligent conflict resolution, and real-time optimization.</p>
                        
                        <div class="algorithm-highlights mb-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="algo-card">
                                        <i class="fas fa-search"></i>
                                        <h6>Trie-Based Search</h6>
                                        <small>Lightning-fast venue discovery</small>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="algo-card">
                                        <i class="fas fa-calendar-check"></i>
                                        <h6>Interval Scheduling</h6>
                                        <small>Smart conflict resolution</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="cta-buttons">
                            <button class="btn btn--primary btn--lg me-3" onclick="showSection('auth')">Get Started</button>
                            <button class="btn btn--outline btn--lg" onclick="showSection('venues')">Browse Venues</button>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="performance-metrics">
                            <h5>Live Algorithm Performance</h5>
                            <div class="metric-item">
                                <span class="metric-label">Average Search Time:</span>
                                <span class="metric-value">2.5ms</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Conflicts Resolved:</span>
                                <span class="metric-value">23</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Revenue Optimization:</span>
                                <span class="metric-value">+15%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Authentication Section -->
    <section id="auth" class="section-container hidden">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card__body">
                            <h2 class="text-center mb-4">Welcome to QuickCourt</h2>
                            
                            <!-- Role Selection -->
                            <div id="roleSelection">
                                <h4 class="mb-3">Select Your Role</h4>
                                <div class="role-grid mb-4">
                                    <div class="role-card" onclick="selectRole('user')">
                                        <i class="fas fa-user"></i>
                                        <h6>User</h6>
                                        <p>Book sports facilities</p>
                                    </div>
                                    <div class="role-card" onclick="selectRole('facility_owner')">
                                        <i class="fas fa-building"></i>
                                        <h6>Facility Owner</h6>
                                        <p>Manage your venues</p>
                                    </div>
                                    <div class="role-card" onclick="selectRole('admin')">
                                        <i class="fas fa-cog"></i>
                                        <h6>Admin</h6>
                                        <p>Platform administration</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Login/Register Form -->
                            <form id="authForm" class="hidden">
                                <input type="hidden" id="selectedRole" value="">
                                
                                <div class="form-group mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                
                                <div class="form-group mb-3" id="nameField" style="display: none;">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="fullName">
                                </div>
                                
                                <div class="form-group mb-3">
                                    <label class="form-label">Password</label>
                                    <input type="password" class="form-control" id="password" required>
                                </div>
                                
                                <button type="submit" class="btn btn--primary btn--full-width mb-3">Login</button>
                                
                                <p class="text-center">
                                    <a href="#" onclick="toggleAuthMode()">Don't have an account? Register</a>
                                </p>
                                
                                <button type="button" class="btn btn--secondary btn--full-width" onclick="showSection('landing')">Back</button>
                            </form>

                            <!-- OTP Verification -->
                            <div id="otpVerification" class="hidden">
                                <h4 class="mb-3">OTP Verification</h4>
                                <p class="text-muted mb-3">Enter the 4-digit OTP sent to your email</p>
                                <div class="form-group mb-3">
                                    <input type="text" class="form-control text-center" id="otpCode" placeholder="Enter OTP" maxlength="4">
                                </div>
                                <button class="btn btn--primary btn--full-width" onclick="verifyOTP()">Verify OTP</button>
                                <p class="text-center mt-2">
                                    <small class="text-muted">Demo: Any 4-digit code works</small>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Venues Browsing Section -->
    <section id="venues" class="section-container hidden">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Discover Sports Venues</h2>
                <div class="search-metrics">
                    <span class="badge bg-success">Search Time: <span id="searchTime">0ms</span></span>
                    <span class="badge bg-info">Results: <span id="resultsCount">0</span></span>
                </div>
            </div>
            
            <!-- Advanced Search and Filters -->
            <div class="row mb-4">
                <div class="col-lg-8">
                    <div class="search-container">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-search"></i></span>
                            <input type="text" class="form-control" id="venueSearch" placeholder="Search venues... (Trie algorithm in action)">
                        </div>
                        <div id="searchSuggestions" class="search-suggestions"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <button class="btn btn--outline" data-bs-toggle="collapse" data-bs-target="#filterCollapse">
                        <i class="fas fa-filter"></i> Advanced Filters
                    </button>
                </div>
            </div>
            
            <!-- Filter Panel -->
            <div class="collapse" id="filterCollapse">
                <div class="card mb-4">
                    <div class="card__body">
                        <div class="row">
                            <div class="col-md-3">
                                <label class="form-label">Sport Type</label>
                                <select class="form-control" id="sportFilter">
                                    <option value="">All Sports</option>
                                    <option value="badminton">Badminton</option>
                                    <option value="tennis">Tennis</option>
                                    <option value="football">Football</option>
                                    <option value="basketball">Basketball</option>
                                    <option value="cricket">Cricket</option>
                                    <option value="volleyball">Volleyball</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Price Range (₹/hour)</label>
                                <select class="form-control" id="priceFilter">
                                    <option value="">Any Price</option>
                                    <option value="0-500">₹0 - ₹500</option>
                                    <option value="501-1000">₹501 - ₹1000</option>
                                    <option value="1001-1500">₹1001 - ₹1500</option>
                                    <option value="1501+">₹1501+</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Rating</label>
                                <select class="form-control" id="ratingFilter">
                                    <option value="">Any Rating</option>
                                    <option value="4.5+">4.5+ Stars</option>
                                    <option value="4.0+">4.0+ Stars</option>
                                    <option value="3.5+">3.5+ Stars</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Distance</label>
                                <select class="form-control" id="distanceFilter">
                                    <option value="">Any Distance</option>
                                    <option value="5">Within 5km</option>
                                    <option value="10">Within 10km</option>
                                    <option value="20">Within 20km</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn--primary" onclick="applyFilters()">Apply Filters</button>
                            <button class="btn btn--secondary ms-2" onclick="clearFilters()">Clear</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Venues Grid -->
            <div id="venuesGrid" class="row">
                <!-- Venues will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Venue Details Modal -->
    <div class="modal fade" id="venueModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="venueModalTitle">Venue Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="venueModalBody">
                    <!-- Content populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div class="modal fade" id="bookingModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Book Court</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="bookingForm">
                        <div class="form-group mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control" id="bookingDate" required>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label">Start Time</label>
                            <select class="form-control" id="bookingStartTime" required>
                                <!-- Options populated by JavaScript -->
                            </select>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label">Duration (hours)</label>
                            <select class="form-control" id="bookingDuration" required>
                                <option value="1">1 Hour</option>
                                <option value="2">2 Hours</option>
                                <option value="3">3 Hours</option>
                            </select>
                        </div>
                        <div class="availability-checker">
                            <h6>Availability Check</h6>
                            <div id="availabilityResult"></div>
                        </div>
                        <div class="booking-summary mt-3">
                            <strong>Total: ₹<span id="bookingTotal">0</span></strong>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn--primary" onclick="confirmBooking()">Confirm Booking</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Sections -->
    <section id="userDashboard" class="section-container hidden">
        <div class="container">
            <h2 class="mb-4">User Dashboard</h2>
            <div class="row">
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card__header">
                            <h5>My Bookings</h5>
                        </div>
                        <div class="card__body">
                            <div id="userBookingsList">
                                <!-- Bookings populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card mb-4">
                        <div class="card__body">
                            <h6>Quick Stats</h6>
                            <div class="stat-item">
                                <span>Total Bookings:</span>
                                <strong id="userTotalBookings">0</strong>
                            </div>
                            <div class="stat-item">
                                <span>This Month:</span>
                                <strong id="userMonthlyBookings">0</strong>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <h6>Quick Actions</h6>
                            <button class="btn btn--primary btn--full-width mb-2" onclick="showSection('venues')">Book New Court</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="ownerDashboard" class="section-container hidden">
        <div class="container">
            <h2 class="mb-4">Facility Owner Dashboard</h2>
            <div class="row">
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card__header">
                            <h5>Revenue Analytics</h5>
                        </div>
                        <div class="card__body">
                            <div style="position: relative; height: 300px;">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card mb-4">
                        <div class="card__body">
                            <h6>Revenue Stats</h6>
                            <div class="stat-item">
                                <span>This Month:</span>
                                <strong>₹45,000</strong>
                            </div>
                            <div class="stat-item">
                                <span>Total Bookings:</span>
                                <strong>156</strong>
                            </div>
                            <div class="stat-item">
                                <span>Peak Hours:</span>
                                <strong>6-8 PM</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="adminDashboard" class="section-container hidden">
        <div class="container">
            <h2 class="mb-4">Admin Dashboard</h2>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card__header">
                            <h5>Platform Analytics</h5>
                        </div>
                        <div class="card__body">
                            <div style="position: relative; height: 300px;">
                                <canvas id="platformChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card__header">
                            <h5>Algorithm Performance</h5>
                        </div>
                        <div class="card__body">
                            <div class="algorithm-metrics">
                                <div class="metric-row">
                                    <span>Search Algorithm (Trie):</span>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" style="width: 95%">95% Efficient</div>
                                    </div>
                                </div>
                                <div class="metric-row">
                                    <span>Booking Conflicts Resolved:</span>
                                    <strong>23 / 25 (92%)</strong>
                                </div>
                                <div class="metric-row">
                                    <span>Revenue Optimization:</span>
                                    <strong>+15% improvement</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html>